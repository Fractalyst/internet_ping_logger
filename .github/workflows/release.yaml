name: Release Files

on:
  push:
    tags:
      - 'v*'  # Trigger on version tags like v1.0.0

jobs:
  release:
    runs-on: ubuntu-latest

    steps:
      # Checkout the repo
      - name: Checkout code
        uses: actions/checkout@v3

      # Set up GitHub CLI (optional if you want more control over release)
      - name: Set up GitHub CLI
        uses: cli/gh-action@v3

      # Create the release and upload only specific files
      - name: GH Release
        uses: softprops/action-gh-release@v2.5.0
        with:
          files: |
            tray_icons_png/internet_good.png
            tray_icons_png/internet_warning.png
            tray_icons_png/internet_none.png
            internet_ping_logger.py
            readme.md
            start_internet_ping_logger.vbs
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
